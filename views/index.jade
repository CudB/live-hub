extend layout

block content
  //- iframe(src="https://www-cdn.jtvnw.net/swflibs/TwitchPlayer.rd6a0d073735dbb05d88bcf4fd798b5e148f4e8f9.swf?channel=riotgame", frameborder="0", scrolling="no", height="378", width="620")
  iframe(width="560", height="315", src="https://www.youtube.com/embed/bpeBugHSCnU", frameborder="0", allowfullscreen)
block sidebar
  .outputwidget
    .outputbox
  .inputwidget
    .inputbox
      input.formcontrol(type = "text", id= "nameInput", placeholder = "Name", maxlength = 20)
      input.formcontrol(type = "text", id= "messageInput" placeholder = "Message", maxlength = 50)

block scripts
  script(src='https://cdn.firebase.com/js/client/2.2.1/firebase.js')
  script(src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js')
  script.
    var myDataRef = new Firebase('https://flickering-inferno-2389.firebaseio.com/');
    $('#messageInput').keypress(function (e) {
      if (e.keyCode == 13) {
        var name = $('#nameInput').val();
        var text = $('#messageInput').val();
        myDataRef.push({name: name, text: text});
        $('#messageInput').val('');
      }
    });
    myDataRef.on('child_added', function(snapshot) {
      var message = snapshot.val();
      displayChatMessage(message.name, message.text);
    });
    function displayChatMessage(name, text) {
      $('<div class="messagebox"/>').text(text).prepend($('<em/>').text(name+': ')).appendTo($('.outputbox'));
    };